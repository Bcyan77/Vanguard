{% extends 'base.html' %}

{% block title %}Apply to {{ party.title }} - Vanguard{% endblock %}

{% block extra_css %}
<style>
    .apply-container {
        max-width: 700px;
        margin: 0 auto;
    }

    .party-preview {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .party-preview h2 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        color: #fff;
    }

    .party-preview-meta {
        display: flex;
        gap: 1.5rem;
        margin-top: 1rem;
        font-size: 0.875rem;
        color: #888;
    }

    .apply-form {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 2rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .form-header {
        margin-bottom: 1.5rem;
    }

    .form-header h1 {
        font-size: 2rem;
        background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
    }

    .form-actions {
        display: flex;
        gap: 1rem;
        margin-top: 1.5rem;
    }

    .form-actions button,
    .form-actions a {
        flex: 1;
    }

    .info-box {
        background: rgba(33, 150, 243, 0.1);
        border: 1px solid rgba(33, 150, 243, 0.3);
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1.5rem;
        color: #64b5f6;
    }
</style>
{% endblock %}

{% block content %}
<div class="apply-container">
    <div class="party-preview">
        <h2>{{ party.title }}</h2>
        <p style="color: #b0b0b0; margin-top: 0.5rem;">{{ party.description|truncatewords:30 }}</p>
        <div class="party-preview-meta">
            <span>{{ party.get_activity_type_display }}</span>
            <span>ðŸ‘¥ {{ party.current_members }}/{{ party.max_members }}</span>
            <span>Created by {{ party.creator.display_name }}</span>
        </div>
    </div>

    <div class="apply-form">
        <div class="form-header">
            <h1>ðŸŽ® Apply to Join</h1>
            <p style="color: #888;">Tell the party leader why you'd be a great fit</p>
        </div>

        <div class="info-box">
            ðŸ’¡ <strong>Tip:</strong> Mention your experience, playstyle, and availability to increase your chances of
            being accepted!
        </div>

        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label for="message">Application Message (Optional)</label>
                <textarea id="message" name="message" rows="6"
                    placeholder="Hi! I'm interested in joining your party. I have experience with this activity and I'm available at the scheduled time..."></textarea>
            </div>

            <div class="form-actions">
                <a href="{% url 'parties:party_detail' party.pk %}" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn">Submit Application</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}